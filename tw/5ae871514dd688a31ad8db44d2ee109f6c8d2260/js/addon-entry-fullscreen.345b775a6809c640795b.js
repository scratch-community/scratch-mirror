(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[33],{1596:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,".sa-fullscreen.sa-body-editor {\n  overflow: hidden !important;\n}\n",""])},1597:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage_full-screen"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"] {\n  border: 0 !important;\n  border-radius: 0 !important;\n}\n\n[class*="stage_stage-overlays_"][class*="stage_full-screen_"] {\n  top: 0;\n  left: 0;\n}\n',""])},1598:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage-header_stage-menu-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  width: min(calc((100vh - 44px) * var(--sa-fullscreen-width) / var(--sa-fullscreen-height)), 100vw) !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  height: min(calc(100vh - 44px), calc(100vw * var(--sa-fullscreen-height) / var(--sa-fullscreen-width))) !important;\n}\n\n[class*="stage-wrapper_full-screen"] {\n  padding: 0rem !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="monitor-list_monitor-list"] {\n  overflow: visible;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage_question-wrapper"] {\n  width: auto !important;\n}\n',""])},1599:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage-header_stage-menu-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  width: min(calc(100vh * var(--sa-fullscreen-width) / var(--sa-fullscreen-height)), 100vw) !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage-wrapper_stage-canvas-wrapper"],\n[class*="stage-wrapper_full-screen"] [class*="stage_stage"],\n[class*="stage-wrapper_full-screen"] [class*="stage_green-flag-overlay-wrapper"],\n[class*="stage-wrapper_full-screen"] canvas {\n  height: min(100vh, calc(100vw * var(--sa-fullscreen-height) / var(--sa-fullscreen-width))) !important;\n}\n\n[class*="stage-wrapper_full-screen"] {\n  padding: 0rem !important;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="monitor-list_monitor-list"] {\n  overflow: visible;\n}\n\n[class*="stage-wrapper_full-screen"] [class*="stage_question-wrapper"] {\n  width: auto !important;\n}\n',""])},1600:function(e,s,a){(e.exports=a(9)(!1)).push([e.i,'[class*="stage-wrapper_full-screen"] {\n  display: none;\n  top: 0rem !important;\n}\n\n[class*="stage-header_stage-header-wrapper-overlay"] {\n  display: block;\n  transform: translateY(-101%);\n  transition: transform 0.3s;\n}\n\n.phantom-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 8px;\n  display: block;\n  z-index: 5000;\n}\n\n.stage-header-hover {\n  transform: translateY(0%);\n  transition: transform 0.3s 0.25s;\n}\n',""])},1672:function(e,s,a){"use strict";a.r(s),a.d(s,"resources",(function(){return g}));var t=a(1596),n=a.n(t),r=a(1597),l=a.n(r),c=a(1598),i=a.n(c),o=a(1599),p=a.n(o),d=a(1600),u=a.n(d);const g={"userscript.js":async function(e){let{addon:s,console:a}=e;const t=s.tab.traps.vm,n=()=>{document.documentElement.style.setProperty("--sa-fullscreen-width",t.runtime.stageWidth),document.documentElement.style.setProperty("--sa-fullscreen-height",t.runtime.stageHeight)};function r(){s.settings.get("browserFullscreen")&&!s.self.disabled&&(s.tab.redux.state.scratchGui.mode.isFullScreen&&null===document.fullscreenElement?document.documentElement.requestFullscreen():s.tab.redux.state.scratchGui.mode.isFullScreen||null===document.fullscreenElement||document.exitFullscreen())}async function l(){if(!s.self.disabled&&s.tab.redux.state.scratchGui.mode.isFullScreen&&s.settings.get("hideToolbar")&&s.settings.get("hoverToolbar")){const e=await s.tab.waitForElement('[class*="stage_full-screen"] canvas'),a=await s.tab.waitForElement('[class^="stage-header_stage-header-wrapper"]'),t=a.parentElement.appendChild(document.createElement("div"));t.classList.add("phantom-header"),t.appendChild(a),t.addEventListener("mouseenter",()=>{a.classList.add("stage-header-hover")}),t.addEventListener("mouseleave",()=>{a.classList.remove("stage-header-hover")}),document.addEventListener("mouseleave",e=>{e.clientY<8&&a.classList.add("stage-header-hover")}),document.addEventListener("mouseenter",()=>{a.classList.remove("stage-header-hover")}),["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","wheel"].forEach(s=>{t.addEventListener(s,s=>{s.target.classList.contains("phantom-header")&&e.dispatchEvent(new s.constructor(s.type,s))})})}else{const e=await s.tab.waitForElement('[class*="stage-header_stage-header-wrapper"]');if(e.parentElement.classList.contains("phantom-header")){const s=e.parentElement;s.parentElement.appendChild(e),s.remove()}}}async function c(){const e=await s.tab.waitForElement(".sa-body-editor");s.tab.redux.state.scratchGui.mode.isFullScreen?e.classList.add("sa-fullscreen"):e.classList.remove("sa-fullscreen")}let i,o,p;async function d(){i=await s.tab.waitForElement("[class*=monitor-list_monitor-list-scaler]"),p=await s.tab.waitForElement('[class*="stage-wrapper_full-screen"] [class*="stage_stage"]'),o=new ResizeObserver(()=>{const e=p.getBoundingClientRect();if(!e.width||!e.height)return;const a=s.tab.traps.vm.runtime.renderer;a&&a.resize(e.width,e.height);const n=e.width/t.runtime.stageWidth;i.style.transform="scale(".concat(n,", ").concat(n,")")}),o.observe(p)}n(),t.on("STAGE_SIZE_CHANGED",n),l(),d(),c(),r(),s.tab.redux.initialize(),s.tab.redux.addEventListener("statechanged",e=>{"scratch-gui/mode/SET_FULL_SCREEN"===e.detail.action.type&&(d(),r(),c(),l())}),window.addEventListener("resize",()=>{s.settings.get("browserFullscreen")&&!s.self.disabled&&null===document.fullscreenElement&&s.tab.redux.state.scratchGui.mode.isFullScreen&&s.tab.redux.dispatch({type:"scratch-gui/mode/SET_FULL_SCREEN",isFullScreen:!1})}),document.addEventListener("fullscreenchange",()=>{null===document.fullscreenElement&&s.tab.redux.state.scratchGui.mode.isFullScreen&&s.tab.redux.dispatch({type:"scratch-gui/mode/SET_FULL_SCREEN",isFullScreen:!1})}),s.settings.addEventListener("change",()=>{r(),l()}),s.self.addEventListener("disabled",()=>{o.disconnect(),l()}),s.self.addEventListener("reenabled",()=>{o.observe(p),r(),l()})},"hideOverflow.css":n.a,"removeBorder.css":l.a,"resizeWindow.css":i.a,"resizeWindow_noToolbar.css":p.a,"hideToolbar.css":u.a}}}]);